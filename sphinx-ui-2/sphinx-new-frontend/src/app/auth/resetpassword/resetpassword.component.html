
<nb-tabset>
  <nb-tab tabTitle="Request Reset Token">
      <h1 id="title" class="title">Reset Token</h1>
      <p class="sub-title">Enter below details to request reset token. </p>
    
      <nb-alert *ngIf="username.isError" outline="danger" role="alert">
        <ul class="alert-message-list">
            <li class="alert-message">{{username.errorMsg}}</li>
          </ul>
      </nb-alert>

      <form  aria-labelledby="title" #authForm1="ngForm" (ngSubmit)="resetPassword(authForm1)">

        <div class="form-control-group">
          <label class="label" for="input-username1">Username:</label>
          <input nbInput
                fullWidth
                name="username1"
                id="input-username1"
                placeholder="Username1"
                fieldSize="large"
                ngModel
                required
                autofocus
                #username1 ="ngModel"
          >
          <ng-container >
              <p class="caption status-danger" *ngIf="!username1.valid && username1.touched">
                  username is required!
              </p>
          </ng-container>
        </div>

        <button nbButton
                fullWidth
                status="primary"
                size="large"
                type="submit"
                [disabled]="!authForm1.valid || this.isResetLoading"
                [nbSpinner]="isResetLoading" nbSpinnerStatus="primary" nbSpinnerSize="tiny" nbSpinnerMessage=""
                >
          submit
        </button>
      </form> 

  </nb-tab>
  <nb-tab tabTitle="Reset Password">
    <h1 id="title" class="title">Password Reset</h1>
            <p class="sub-title">Enter below details to reset your password. </p>



            <nb-alert *ngIf="error" outline="danger" role="alert">
              <ul class="alert-message-list">
                  <li class="alert-message">{{ error }}</li>
                </ul>
            </nb-alert>

            <form  aria-labelledby="title" #authForm="ngForm" (ngSubmit)="onSubmit(authForm)" >

              <div class="form-control-group">
                <label class="label" for="input-username">Username:</label>
                <input nbInput
                      fullWidth
                      name="username"
                      id="input-username"
                      placeholder="Username"
                      fieldSize="large"
                      ngModel
                      required
                      autofocus
                      #username2 ="ngModel"
                >
                <ng-container >
                  <p class="caption status-danger" *ngIf="!username2.valid && username2.touched">
                      username is required!
                  </p>
                </ng-container>
              </div>

              <div class="form-control-group">
                <span class="label-with-link">
                  <label class="label" for="password1">New Password:</label>
                </span>
                <input nbInput
                      fullWidth
                      type="password"
                      id="password1"
                      placeholder="New Password"
                      fieldSize="large"
                      ngModel
                      name="password1"
                      required
                      #password1 ="ngModel"
                      >
                <ng-container >
                  <p class="caption status-danger" *ngIf="!password1.valid && password1.touched">
                    new Password is required!
                  </p>
                </ng-container>
              </div>

              <div class="form-control-group">
                <span class="label-with-link">
                  <label class="label" for="password2">Confirm Password:</label>
                </span>
                <input nbInput
                      fullWidth
                      type="password"
                      id="password2"
                      placeholder="Confirm new Password"
                      fieldSize="large"
                      ngModel
                      name="password2"
                      required
                      #password2 ="ngModel"
                      >
                <ng-container >
                  <p class="caption status-danger" *ngIf="!password2.valid && password1.touched">
                    Confirm Password is required!
                  </p>
                </ng-container>
              </div>

              <div class="form-control-group">
                  <span class="label-with-link">
                      <label class="label" for="resettoken">Reset Token:</label>
                      <!-- <a class="forgot-password caption-1" (click)="resetPassword(authForm)"  >Send Again</a> -->
                    </span>
                <input nbInput
                      fullWidth
                      name="resettoken"
                      id="resettoken"
                      placeholder="enter reset token here"
                      fieldSize="large"
                      ngModel
                      required
                      autofocus
                      #resettoken="ngModel"
                >
                <ng-container >
                  <p class="caption status-danger" *ngIf="!resettoken.valid && resettoken.touched">
                    Reset token is required!
                  </p>
                </ng-container>
              </div>

              <button nbButton
                      fullWidth
                      status="primary"
                      size="large"
                      type="submit"
                      [disabled]="!authForm.valid"
                      [nbSpinner]="isLoading" nbSpinnerStatus="primary" nbSpinnerSize="tiny" nbSpinnerMessage=""
                      >
                Reset Password
              </button>
            </form> 


  </nb-tab>
</nb-tabset>

