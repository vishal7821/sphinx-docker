<nb-card >
  <nb-card-header>
    <h5>Course Roster</h5>
  </nb-card-header>

  <nb-card-body>
    <div>
        <div class="row">
            <div class="col-sm-9">
                <form #demoForm="ngForm">
                    <file-upload [(ngModel)]="uploadedFiles" [disabled]="isDisabled" name="files"></file-upload>
                </form>
            </div>
            <div class="col-sm-3 container">
              <div class="center">
                  <button [nbSpinner]="isLoading" nbSpinnerStatus="info" (click)="AddEnrollments()" nbButton>Add Enrollments</button>
              </div>
                
            </div>
       
          </div>
       
    </div>
     

      <nb-card *ngIf = "openEditForm">
        <nb-card-header>
          Edit Enrollment
        </nb-card-header>
      
        <nb-card-body >
  
      
              <div class="row">
                <div class="col-sm-2">
                  
                    Username: <strong>{{edit_enroll.username}}</strong>
                </div>
           
                
      
                <div class="col-sm-3">
                  <nb-select fullWidth placeholder="Select Role"  [(ngModel)] = "edit_enroll.roleid">
                    <nb-option *ngFor="let role of course_roles"  [value]="role.main_id">
                      {{role.name}}</nb-option>
                  </nb-select>
                </div>
                <div class="col-sm-2">
                  <nb-select fullWidth multiple placeholder="Select Section/s" [(ngModel)] = "edit_enroll.sectionsList" >
                    <nb-option *ngFor="let sec of course_sections" [value]="sec.main_id">
                      {{sec.name}}</nb-option>
                  </nb-select>
                </div>
              
                <div class="offset-md-1 col-sm-1">
                  <button nbButton size="small" outline  status="success" (click)="onEditSubmit()">
                    <nb-icon size="large" icon="save-outline"></nb-icon>Save
                  </button>
                </div>
                <div class="offset-md-1 col-sm-1">
                  <button nbButton size="small"  outline status="danger" (click)="onEditCancel()">
                    <nb-icon icon="close-outline" size="medium"></nb-icon>Cancel
                  </button>
                </div>
              </div>
            
         
        </nb-card-body>
      </nb-card>
  
    <nb-list >
      <nb-list-item>
        <div class="row ">

          <div class="col-6 col-sm-1" >
            <div style="text-align:center;"><strong>#</strong></div>
          </div>
          <div class="col-6 col-sm-1" >
            <div><strong>Username</strong></div>
          </div>
          <div class="col-6 col-sm-1" >
            <div><strong>Roll no</strong></div>
          </div>
          <div class="col-6 col-sm-1" >
            <div><strong>Name</strong></div>
          </div>
          <!-- <div class="col-6 col-sm-1" >
            <div><strong>First name</strong></div>
          </div>
          <div class="col-6 col-sm-1" >
            <div><strong>Last name</strong></div>
          </div> -->
          <div class="col-6 col-sm-2" >
            <div><strong>email</strong></div>
          </div>
          <div class="col-6 col-sm-1" >
            <div><strong>department</strong></div>
          </div>
          <div class="col-6 col-sm-1" >
            <div><strong>Program</strong></div>
          </div>
          <div class="col-6 col-sm-1" >
            <div><strong>Role</strong></div>
          </div>
          <div class="col-6 col-sm-1" >
            <div><strong>Section</strong></div>
          </div>
          <div class="col-6 col-sm-2">
            <div style="text-align:center;"><strong>Actions</strong></div>
          </div>
        </div>
      </nb-list-item>
    </nb-list>

    <nb-list *ngIf="enrollments">
      <nb-list-item *ngFor="let enroll of enrollments; index as i">
        <div class="row ">
          <div class="col-6 col-sm-1">
            <div style="text-align:center;">{{enroll.id}}</div>
          </div>
          <div class="col-6 col-sm-1">
            <div>{{enroll.username}}</div>
          </div>
          <div class="col-6 col-sm-1">
            <div>{{enroll.roll_no}}</div>
          </div>
          <div class="col-6 col-sm-1">
            <div>{{enroll.first_name}}</div>
          </div>
          <!-- <div class="col-6 col-sm-1">
            <div>{{enroll.last_name}}</div>
          </div> -->
          <div class="col-6 col-sm-2">
            <div>{{enroll.email}}</div>
          </div>
          <div class="col-6 col-sm-1">
            <div>{{enroll.department}}</div>
          </div>
          <div class="col-6 col-sm-1">
            <div>{{enroll.program}}</div>
          </div>
          <div class="col-6 col-sm-1">
              {{enroll.role}}
            
          </div>
          <div class="col-6 col-sm-1">
            {{enroll.sections}}
          </div>

          <div class="col-6 col-sm-2">
            <div style="text-align:center;">
              <button nbButton ghost size="tiny" status="primary" (click)="onEditEnroll(i)">
                <nb-icon [icon]="'edit-outline'" ></nb-icon>
              </button>
              <button nbButton ghost size="tiny" status="primary" (click)="onDeleteEnroll(i)">
                <nb-icon [icon]="'trash-2-outline'" ></nb-icon>
              </button>
            </div>
          </div>

        </div>
      </nb-list-item>
    </nb-list>


  </nb-card-body>
</nb-card>